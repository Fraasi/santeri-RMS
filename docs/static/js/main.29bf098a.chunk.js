(this["webpackJsonpsanteri-rms"]=this["webpackJsonpsanteri-rms"]||[]).push([[0],{34:function(e,t,a){e.exports=a(98)},39:function(e,t,a){},41:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),i=a.n(c),o=(a(39),a(14)),l=a.n(o),s=a(6),u=a(33),m=a.n(u),d=(a(41),a(42)),f=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)({name:"",lastModified:0,size:0,type:""}),c=Object(s.a)(a,2),i=c[0],o=c[1],u=Object(n.useState)({mean1:0,mean2:0}),f=Object(s.a)(u,2),p=f[0],v=f[1],b=Object(n.useState)(0),h=Object(s.a)(b,2),E=h[0],g=h[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),O=w[0],j=w[1];Object(n.useEffect)((function(){function e(e){e.stopPropagation(),e.preventDefault()}t.current.addEventListener("dragenter",e,!1),t.current.addEventListener("dragover",e,!1),t.current.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;k(t)}),!1)}),[]);var k=function(t){var a;j(!0);var n=(null===t||void 0===t?void 0:null===(a=t.item)||void 0===a?void 0:a.call(t,0))?t.item(0):e.current.files.item(0);o(n);var r=new FileReader;r.onloadend=function(e){var t,a,r,c,i,o,s,u,f,p,b;return l.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return t={blob:e.target.result,name:n.name},a=new AudioContext,h.next=4,l.a.awrap(a.decodeAudioData(t.blob).then((function(e){return e.getChannelData(0)})));case 4:for(r=h.sent,i=d(c=r),g(i),o=[],s=0;s<c.length-128;s+=128)u=m.a.extract("rms",c.slice(s,s+128)),o.push(u);f=o.reduce((function(e,t){return e+t}),0),p=f/o.length,b=f/(o.length-128),v({mean1:p,mean2:b}),j(!1);case 15:case"end":return h.stop()}}))},r.onerror=function(e){throw new Error(e)},n&&r.readAsArrayBuffer(n)};var x,F=i.name,S=i.lastModified,B=i.size,D=i.type;return r.a.createElement("div",null,r.a.createElement("input",{style:{display:"none"},ref:e,type:"file",name:"file",accept:"audio/*",multiple:!1,onChange:k}),r.a.createElement("button",{id:"fileSelect",onClick:function(){e.current.click()}},"Valitse \xe4\xe4nitiedosto"),r.a.createElement("p",{className:"fileattrs",ref:t},"filename: ",F," ",r.a.createElement("br",null),"lastModifiedDate: ",new Date(S).toLocaleString(),r.a.createElement("br",null),"size: ",(x=B)<1024?x+" bytes":x>1024&&x<1048576?(x/1024).toFixed(1)+" KB":x>1048576?(x/1048576).toFixed(1)+" MB":void 0,r.a.createElement("br",null),"type: ",D),O&&r.a.createElement("p",{className:"calculating"},"Lasketaan matikkaa",r.a.createElement("span",{className:"calculating-css"})),r.a.createElement("p",{className:"means"},r.a.createElement("a",{href:"https://github.com/meyda/meyda"},"meyda")," rms: ",p.mean1," ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/meyda/meyda"},"meyda")," rms (BUFFER_OFFSET ",128,"): ",p.mean2," ",r.a.createElement("br",null),r.a.createElement("a",{href:"https://github.com/compute-io/qmean"},"qMean rms:")," ",E))};var p=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.29bf098a.chunk.js.map