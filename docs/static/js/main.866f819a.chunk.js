(this["webpackJsonpsanteri-rms"]=this["webpackJsonpsanteri-rms"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),l=n.n(o),i=(n(10),n(1)),c=n(4),s=n.n(c),u=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useState)({name:"",lastModified:0,size:0,type:""}),o=Object(i.a)(n,2),l=o[0],c=o[1],u=Object(a.useState)({mean1:0,mean2:0}),m=Object(i.a)(u,2),f=m[0],d=m[1];function p(e){e.stopPropagation(),e.preventDefault()}Object(a.useEffect)((function(){t.current.addEventListener("dragenter",p,!1),t.current.addEventListener("dragover",p,!1),t.current.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;v(t)}),!1)}),[]);var v=function(t){console.log("files:",t,e.current.files.item(0));var n=e.current.files.item(0);c(n);var a=new FileReader;a.onloadend=function(e){console.log("theFile:",e.target.result);for(var t={blob:e.target.result,name:n.name},a=new Int32Array(t.blob),r=[],o=0;o<a.length-512;o+=512){var l=s.a.extract("rms",a.slice(o,o+512));r.push(l)}var i=r.reduce((function(e,t){return e+t}),0),c=i/a.length,u=i/(a.length-512);console.log("mean:",c,u),d({mean1:c,mean2:u})},a.onerror=function(e){throw new Error(e)},n&&a.readAsArrayBuffer(n)};var b,g=l.name,E=l.lastModified,h=l.size,w=l.type;return r.a.createElement("div",null,r.a.createElement("input",{style:{display:"none"},ref:e,type:"file",name:"file",accept:"audio/*",multiple:!1,onChange:v}),r.a.createElement("button",{id:"fileSelect",onClick:function(){e.current.click()}},"Select some files"),r.a.createElement("p",{className:"fileattrs",ref:t},"filename: ",g," ",r.a.createElement("br",null),"lastModifiedDate: ",new Date(E).toLocaleString(),r.a.createElement("br",null),"size: ",(b=h)<1024?b+" bytes":b>1024&&b<1048576?(b/1024).toFixed(1)+" KB":b>1048576?(b/1048576).toFixed(1)+" MB":void 0,r.a.createElement("br",null),"type: ",w),r.a.createElement("p",{className:"means"},"rms1: ",f.mean1," ",r.a.createElement("br",null),"rms2: ",f.mean2))};var m=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,n){e.exports=n(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.866f819a.chunk.js.map